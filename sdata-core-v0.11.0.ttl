@prefix sdata:   <https://w3id.org/sdata/core/> .
@prefix min:     <https://w3id.org/min#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:     <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix skos:    <http://www.w3.org/2004/02/skos/core#> .

# =============================================================================
#
#   sdata — Semantic Data Ontology (Core)
#
#   Domänenontologie für Product Passports, Circular Economy,
#   und Digital Twins.
#
#   v0.11.0 — Migration auf MIN v2.0.0
#
#   Änderungen gegenüber v0.10.0:
#
#     ENTFERNT:
#       — owl:imports <https://w3id.org/opa>    (OPA in MIN absorbiert)
#       — Alle opa: Referenzen                  (→ min:)
#
#     GEÄNDERT:
#       — sdata:Data  subClassOf min:Data       (war: sdata:Object)
#         Data ist jetzt erstklassige MIN-Kategorie, nicht mehr
#         unter Object eingeordnet. Das ist konzeptionell korrekt:
#         Daten sind informational-dominant, nicht material-dominant.
#
#     KOMPATIBILITÄTSHINWEISE:
#       — Alle sdata: URIs bleiben stabil
#       — Alle sdata: Klassen und Properties bleiben erhalten
#       — Nur die Superklassen-Referenzen ändern sich (opa: → min:)
#       — SPARQL-Queries die opa: nutzen, müssen auf min: umgestellt werden
#       — SHACL-Shapes müssen auf neue Superklassen geprüft werden
#
#   v0.11.0 — 2026-03-01
#
# =============================================================================

# —————————————————————————————————————————————————————————————————————————————
#   ONTOLOGIE-DEKLARATION
# —————————————————————————————————————————————————————————————————————————————

<https://w3id.org/sdata/core> a owl:Ontology ;
    owl:versionIRI <https://w3id.org/sdata/core/0.11.0> ;
    owl:versionInfo "0.11.0" ;
    owl:imports <https://w3id.org/min> ;
    # owl:imports <https://w3id.org/opa> ;  ← ENTFERNT (OPA in MIN v2 absorbiert)
    dcterms:title "sdata — Semantic Data Ontology (Core)"@en ;
    dcterms:title "sdata — Semantische Datenontologie (Kern)"@de ;
    dcterms:description """Domänenontologie für Materialwissenschaft,
    Fertigungstechnik, Produktpässe und Kreislaufwirtschaft.

    Zweischicht-Architektur: MIN (Grundontologie) → sdata (Domäne).

    sdata spezialisiert die vier MIN-Kategorien:
      min:Object  → Material, Product, Hardware, Software
      min:Data    → (direkt genutzt, domänenspezifische Typen via State Space)
      min:Process → (keine Kern-Subklassen, Methode/Domäne via State Space)
      min:Agent   → Person, HardwareAgent, SoftwareAgent, Organization,
                     EnvironmentAgent"""@de ;
    dcterms:creator "Lepy" ;
    dcterms:created "2026-03-01"^^xsd:date ;
    dcterms:license <https://creativecommons.org/licenses/by/4.0/> ;
    rdfs:seeAlso <https://w3id.org/min> ;
    min:designRationale """v0.11.0 migriert auf MIN v2.0.0.
    OPA ist als Zwischenschicht entfallen — MIN enthält jetzt
    direkt die vier Kategorien Object, Process, Data, Agent.

    Hauptänderung: sdata:Data ist nicht mehr subClassOf sdata:Object,
    sondern subClassOf min:Data. Dies korrigiert eine konzeptionelle
    Schieflage: Daten sind informational-dominant, nicht
    material-dominant. Sie gehören nicht unter Object."""@de .


# #############################################################################
#
#   TEIL I — OBJECT-HIERARCHIE
#
#   sdata:Object spezialisiert min:Object für die Domäne.
#   Vier Subklassen decken die Kernbereiche ab.
#
#   Beachte: Data ist NICHT mehr unter Object.
#   Data ist jetzt subClassOf min:Data (eigene MIN-Kategorie).
#
# #############################################################################

# =============================================================================
#   MATERIAL — Werkstoff, Rohstoff, Substanz
# =============================================================================

sdata:Material a owl:Class ;
    rdfs:subClassOf min:Object ;
    rdfs:label "Material"@en ;
    rdfs:label "Werkstoff"@de ;
    rdfs:comment """Ein Werkstoff oder Rohstoff.

    Physische Substanz, die in Fertigungsprozessen verarbeitet wird.
    Identität über chemische Zusammensetzung und Gefügezustand.

    Beispiele: Stahlcoil, Polypropylen-Granulat, Glasfaser-Recyclat,
    Aluminium-Legierung, Epoxidharz."""@de ;
    skos:example "HC340LA, PP-GF30, AlSi10Mg, CFK-Prepreg."@de .


# =============================================================================
#   PRODUCT — Erzeugnis, Bauteil, Halbzeug
# =============================================================================

sdata:Product a owl:Class ;
    rdfs:subClassOf min:Object ;
    rdfs:label "Product"@en ;
    rdfs:label "Produkt"@de ;
    rdfs:comment """Ein Erzeugnis, Bauteil oder Halbzeug.

    Resultat eines Fertigungsprozesses. Hat eine definierte
    Geometrie und Funktion. Träger eines Produktpasses.

    Abgrenzung zu Material: Material ist Substanz (ungeformt
    oder vorgeformt). Product ist Erzeugnis (geformt, funktional).
    Die Grenze ist fließend — ein Coil kann Material ODER
    Product sein, je nach Perspektive in der Lieferkette."""@de ;
    skos:example "Seitenteil, Motorblock, B-Säule, Felge, Getriebe."@de .


# =============================================================================
#   HARDWARE — physisches Gerät, Maschine (passiv)
# =============================================================================

sdata:Hardware a owl:Class ;
    rdfs:subClassOf min:Object ;
    rdfs:label "Hardware"@en ;
    rdfs:label "Hardware"@de ;
    rdfs:comment """Ein physisches Gerät oder eine Maschine als Object.

    Hardware als PASSIVES Ding — die physische Infrastruktur,
    ohne Handlungsfähigkeit. Wenn Hardware handelt (steuert,
    misst, entscheidet), wird sie zusätzlich als HardwareAgent typisiert.

    Abgrenzung: Hardware ist Object (physisches Ding).
    HardwareAgent ist Agent (handelndes Ding).
    Ein Roboter kann beides zugleich sein."""@de ;
    skos:example "Presse, Ofen, Prüfmaschine, Sensor (passiv), Werkzeug."@de .


# =============================================================================
#   SOFTWARE — Softwareprodukt (passiv)
# =============================================================================

sdata:Software a owl:Class ;
    rdfs:subClassOf min:Object ;
    rdfs:label "Software"@en ;
    rdfs:label "Software"@de ;
    rdfs:comment """Ein Softwareprodukt als Object.

    Software als PASSIVES Artefakt — der Code, die Installation,
    die Version. Wenn Software handelt (simuliert, berechnet,
    entscheidet), wird sie zusätzlich als SoftwareAgent typisiert.

    Abgrenzung: Software ist Object (digitales Artefakt).
    SoftwareAgent ist Agent (handelndes Artefakt)."""@de ;
    skos:example "AutoForm R10, Abaqus 2024, Python-Skript, FE-Solver."@de .


# =============================================================================
#   DATA — jetzt subClassOf min:Data
# =============================================================================

sdata:Data a owl:Class ;
    rdfs:subClassOf min:Data ;
    rdfs:label "Data"@en ;
    rdfs:label "Daten"@de ;
    rdfs:comment """Domänenspezifische Daten.

    MIGRATION v0.10.0 → v0.11.0:
    Data war subClassOf sdata:Object (= material-dominant).
    Data ist jetzt subClassOf min:Data (= informational-dominant).

    Dies korrigiert die konzeptionelle Einordnung: Daten sind
    primär über ihre Semantik zugänglich, nicht über ihre Bytes.
    Ihr materialAspect (Speichermedium) ist real, aber sekundär.

    Spezifische Datentypen (Certificate, DigitalProductPass, etc.)
    werden über den sdata-material-state DataTypeAxis modelliert,
    nicht als Subklassen."""@de ;
    skos:example "Messdaten, Simulationsergebnis, Werkstoffdatenblatt, CAD-Modell."@de ;
    min:designRationale """Die Verschiebung von Object nach min:Data
    ist die wichtigste konzeptionelle Änderung in v0.11.0.

    Begründung: In MIN v2 ist Data eine erstklassige Kategorie
    neben Object, Process und Agent. Data unter Object einzuordnen
    war ein Kompromiss der alten Dreischicht-Architektur, in der
    OPA keinen eigenen Data-Typ hatte. Dieser Kompromiss ist
    jetzt aufgelöst."""@de .


# #############################################################################
#
#   TEIL II — AGENT-HIERARCHIE
#
#   sdata:Agent spezialisiert min:Agent für die Domäne.
#   Fünf Subklassen unterscheiden die Art der Handlungsfähigkeit.
#
# #############################################################################

# =============================================================================
#   PERSON — menschlicher Agent
# =============================================================================

sdata:Person a owl:Class ;
    rdfs:subClassOf min:Agent ;
    rdfs:label "Person"@en ;
    rdfs:label "Person"@de ;
    rdfs:comment """Ein menschlicher Agent.

    Intentionale Handlungsfähigkeit, moralische Zurechenbarkeit.
    In der Fertigung: Werker, Prüfer, Konstrukteur, Qualitätsmanager."""@de ;
    skos:example "Prüfer, Konstrukteur, Werker, Laborant, Projektleiter."@de .


# =============================================================================
#   HARDWARE AGENT — handlungsfähige Maschine
# =============================================================================

sdata:HardwareAgent a owl:Class ;
    rdfs:subClassOf min:Agent ;
    rdfs:label "Hardware Agent"@en ;
    rdfs:label "Hardware-Agent"@de ;
    rdfs:comment """Eine Maschine oder ein Gerät mit Handlungsfähigkeit.

    Typischerweise zugleich sdata:Hardware (physisches Ding)
    und sdata:HardwareAgent (handelndes Ding). Die Doppeltypisierung
    ist gewollt und durch die Nicht-Disjunktheit von min:Agent
    mit min:Object ermöglicht.

    Selektivität durch Steuerung (SPS, Regelkreis, Sensorik)."""@de ;
    skos:example "CNC-Fräse, Roboterarm, autonomer Sensor, Prüfmaschine mit Steuerung."@de .


# =============================================================================
#   SOFTWARE AGENT — handlungsfähige Software
# =============================================================================

sdata:SoftwareAgent a owl:Class ;
    rdfs:subClassOf min:Agent ;
    rdfs:label "Software Agent"@en ;
    rdfs:label "Software-Agent"@de ;
    rdfs:comment """Eine Software mit Handlungsfähigkeit.

    Führt Berechnungen, Simulationen oder Entscheidungen durch.
    Typischerweise zugleich sdata:Software (Artefakt) und
    sdata:SoftwareAgent (handelndes Artefakt).

    Selektivität durch Algorithmen, ML-Modelle, Regelwerke."""@de ;
    skos:example "FE-Solver, ML-Prognosemodell, Optimierungsalgorithmus, LLM."@de .


# =============================================================================
#   ORGANIZATION — institutioneller Agent
# =============================================================================

sdata:Organization a owl:Class ;
    rdfs:subClassOf min:Agent ;
    rdfs:label "Organization"@en ;
    rdfs:label "Organisation"@de ;
    rdfs:comment """Eine Organisation als Agent.

    Kollektive Handlungsfähigkeit. Verantwortlich für Produkte,
    Prozesse und Zertifizierungen. Wichtig für Produktpässe
    und Lieferkettenrückverfolgung."""@de ;
    skos:example "Stahlwerk, Prüflabor, Zertifizierer, OEM, Recyclingunternehmen."@de .


# =============================================================================
#   ENVIRONMENT AGENT — nichtintentionale natürliche Kausalität
# =============================================================================

sdata:EnvironmentAgent a owl:Class ;
    rdfs:subClassOf min:Agent ;
    rdfs:label "Environment Agent"@en ;
    rdfs:label "Umwelt-Agent"@de ;
    rdfs:comment """Natürliche Umgebungsbedingungen als Agent.

    Nichtintentionale Kausalität: Korrosion, Verwitterung,
    biologischer Zerfall, thermische Alterung. Der EnvironmentAgent
    ‹handelt› nicht bewusst, aber er verursacht Veränderungen
    und ist kausal zurechenbar.

    Philosophisch: Agency ohne Intentionalität (Latour: Aktant).
    Praktisch: ermöglicht die Modellierung von Degradationsprozessen
    im Lebenszyklus ohne einen menschlichen oder maschinellen
    Handelnden zu fingieren."""@de ;
    skos:example "Atmosphärische Korrosion, UV-Strahlung, Feuchtigkeit, Temperaturwechsel."@de ;
    min:designRationale """Eingeführt in v0.10.0. Ein Degradationsprozess
    wie Korrosion braucht einen performedBy-Agent. Ohne EnvironmentAgent
    müsste man entweder die Umgebung als Person/HardwareAgent missbrauchen
    oder auf die performs-Relation verzichten."""@de .


# #############################################################################
#
#   TEIL III — PROCESS
#
#   sdata:Process spezialisiert min:Process.
#   Keine Kern-Subklassen in v0.11.0.
#   Methode und Domäne werden über den State Space modelliert
#   (sms:MethodAxis, sms:DomainAxis).
#
# #############################################################################

# Keine eigenen Process-Subklassen.
# sdata nutzt min:Process direkt.
# Spezialisierung über sdata-material-state MethodAxis/DomainAxis.


# #############################################################################
#
#   TEIL IV — SDATA-SPEZIFISCHE OBJECT PROPERTIES
#
#   MIN v2 bringt bereits die Kernrelationen mit:
#     hasInput, hasOutput, undergoes, resultOf,
#     performs, performedBy, controls,
#     actsOn, affectedBy, owns,
#     describes, describedBy, generates, generatedBy,
#     produces, nexusWith, hasComponent.
#
#   sdata ergänzt domänenspezifische Relationen.
#
# #############################################################################

sdata:hasMaterial a owl:ObjectProperty ;
    rdfs:label "has material"@en ;
    rdfs:label "hat Werkstoff"@de ;
    rdfs:domain min:Object ;
    rdfs:range sdata:Material ;
    rdfs:subPropertyOf min:nexusWith ;
    rdfs:comment """Ein Object (Product, Hardware) hat einen Werkstoff.
    Das Bauteil hat den Werkstoff HC340LA.
    Domänenspezifische Spezialisierung von nexusWith."""@de .

sdata:hasProduct a owl:ObjectProperty ;
    rdfs:label "has product"@en ;
    rdfs:label "hat Produkt"@de ;
    rdfs:domain min:Agent ;
    rdfs:range sdata:Product ;
    rdfs:subPropertyOf min:owns ;
    rdfs:comment """Ein Agent besitzt/verantwortet ein Product.
    Spezialisierung von min:owns für die Lieferkette."""@de .

sdata:usesTool a owl:ObjectProperty ;
    rdfs:label "uses tool"@en ;
    rdfs:label "verwendet Werkzeug"@de ;
    rdfs:domain min:Process ;
    rdfs:range sdata:Hardware ;
    rdfs:subPropertyOf min:nexusWith ;
    rdfs:comment """Ein Process verwendet ein Hardware-Werkzeug.
    Das Tiefziehen verwendet die Presse.
    Das Werkzeug ist nicht Input/Output, sondern Infrastruktur."""@de .

sdata:usesSoftware a owl:ObjectProperty ;
    rdfs:label "uses software"@en ;
    rdfs:label "verwendet Software"@de ;
    rdfs:domain min:Process ;
    rdfs:range sdata:Software ;
    rdfs:subPropertyOf min:nexusWith ;
    rdfs:comment """Ein Process verwendet Software.
    Die Simulation verwendet AutoForm R10."""@de .

sdata:derivedFrom a owl:ObjectProperty ;
    rdfs:label "derived from"@en ;
    rdfs:label "abgeleitet von"@de ;
    rdfs:domain sdata:Data ;
    rdfs:range sdata:Data ;
    rdfs:subPropertyOf min:nexusWith ;
    rdfs:comment """Datenherkunft: ein Data-Nexus ist abgeleitet von
    einem anderen. Simulationsergebnis derivedFrom Eingabedaten.
    Wichtig für Provenienz und Rückverfolgbarkeit."""@de .

sdata:certifies a owl:ObjectProperty ;
    rdfs:label "certifies"@en ;
    rdfs:label "zertifiziert"@de ;
    rdfs:domain sdata:Data ;
    rdfs:range min:Nexus ;
    rdfs:subPropertyOf min:describes ;
    rdfs:comment """Data zertifiziert einen Nexus.
    Spezialisierung von min:describes für Zertifikate
    und Produktpässe. Impliziert normative Gültigkeit."""@de .

sdata:succeeds a owl:ObjectProperty ;
    rdfs:label "succeeds"@en ;
    rdfs:label "folgt auf"@de ;
    rdfs:domain min:Process ;
    rdfs:range min:Process ;
    rdfs:subPropertyOf min:nexusWith ;
    rdfs:comment """Prozessverkettung: ein Process folgt auf einen
    anderen. Umformen succeeds Walzen. Montage succeeds Fertigung.
    Ermöglicht die Modellierung von Prozessketten."""@de .

sdata:precedes a owl:ObjectProperty ;
    rdfs:label "precedes"@en ;
    rdfs:label "geht voraus"@de ;
    rdfs:domain min:Process ;
    rdfs:range min:Process ;
    owl:inverseOf sdata:succeeds ;
    rdfs:subPropertyOf min:nexusWith .

sdata:hasData a owl:ObjectProperty ;
    rdfs:label "has data"@en ;
    rdfs:label "hat Daten"@de ;
    rdfs:domain min:Nexus ;
    rdfs:range sdata:Data ;
    rdfs:subPropertyOf min:describedBy ;
    rdfs:comment """Ein Nexus hat zugehörige Data.
    Spezialisierung von min:describedBy für den Fall,
    dass ein Object, Process oder Agent mit einem
    konkreten sdata:Data-Nexus verknüpft wird.

    Genutzt von sms:hasStateAssignment (subPropertyOf hasData)
    und für allgemeine Datenzuordnung:
    Das Bauteil hasData Werkstoffdatenblatt.
    Der Prozess hasData Prozessprotokoll."""@de .

sdata:producedBy a owl:ObjectProperty ;
    rdfs:label "produced by"@en ;
    rdfs:label "erzeugt durch"@de ;
    rdfs:domain sdata:Data ;
    rdfs:range min:Process ;
    rdfs:subPropertyOf min:generatedBy ;
    rdfs:comment """Data wurde durch einen Process erzeugt.
    Domänenspezifische Spezialisierung von min:generatedBy.

    Genutzt in sdata-material-state für Provenienz:
    StateAssignment producedBy RecyclingProcess.
    Messdaten producedBy Zugversuch."""@de .


# #############################################################################
#
#   TEIL V — SDATA-SPEZIFISCHE DATATYPE PROPERTIES
#
#   MIN v2 bringt die generischen DT-Properties mit:
#     hasIdentifier, hasName, hasTimestamp,
#     hasDescription, hasStatus.
#
#   sdata ergänzt domänenspezifische.
#
# #############################################################################

sdata:hasVersion a owl:DatatypeProperty ;
    rdfs:label "has version"@en ;
    rdfs:label "hat Version"@de ;
    rdfs:domain min:Nexus ;
    rdfs:range xsd:string ;
    rdfs:comment "Versionsnummer (SemVer oder freitext)."@de .

sdata:hasUUID a owl:DatatypeProperty ;
    rdfs:label "has UUID"@en ;
    rdfs:domain min:Nexus ;
    rdfs:range xsd:string ;
    rdfs:comment "UUID nach RFC 4122."@de .

sdata:hasStartTime a owl:DatatypeProperty ;
    rdfs:label "has start time"@en ;
    rdfs:label "hat Startzeit"@de ;
    rdfs:domain min:Process ;
    rdfs:range xsd:dateTime ;
    rdfs:comment "Startzeitpunkt eines Prozesses."@de .

sdata:hasEndTime a owl:DatatypeProperty ;
    rdfs:label "has end time"@en ;
    rdfs:label "hat Endzeit"@de ;
    rdfs:domain min:Process ;
    rdfs:range xsd:dateTime ;
    rdfs:comment "Endzeitpunkt eines Prozesses."@de .

sdata:hasConfidence a owl:DatatypeProperty ;
    rdfs:label "has confidence"@en ;
    rdfs:label "hat Konfidenz"@de ;
    rdfs:domain sdata:Data ;
    rdfs:range xsd:float ;
    rdfs:comment """Konfidenzwert für Datenqualität [0.0, 1.0].
    Relevant für Fuzzy-basierte LCA-Datenmodellierung."""@de .

sdata:hasSource a owl:DatatypeProperty ;
    rdfs:label "has source"@en ;
    rdfs:label "hat Quelle"@de ;
    rdfs:domain sdata:Data ;
    rdfs:range xsd:string ;
    rdfs:comment "Herkunftsangabe (URI, DOI, Normreferenz)."@de .

sdata:hasLocation a owl:DatatypeProperty ;
    rdfs:label "has location"@en ;
    rdfs:label "hat Standort"@de ;
    rdfs:domain min:Nexus ;
    rdfs:range xsd:string ;
    rdfs:comment "Standort oder Lagerort."@de .


# #############################################################################
#
#   TEIL VI — DISJUNKTHEIT
#
# #############################################################################

# Object-Subtypen sind paarweise disjunkt
[] a owl:AllDisjointClasses ;
    owl:members (
        sdata:Material
        sdata:Product
        sdata:Hardware
        sdata:Software
    ) .

# Agent-Subtypen sind paarweise disjunkt
[] a owl:AllDisjointClasses ;
    owl:members (
        sdata:Person
        sdata:HardwareAgent
        sdata:SoftwareAgent
        sdata:Organization
        sdata:EnvironmentAgent
    ) .

# sdata:Data ist NICHT disjunkt mit Object-Subtypen.
# Ein CAD-Modell könnte sowohl Data als auch Software sein.


# #############################################################################
#
#   TEIL VII — CORE MODELING PATTERN
#
#   Das sdata-Grundmuster:
#
#     Material/Product + Data → Process → Product + Data
#                                  ▲
#                               Agent(s)
#                           + optional Hardware/Software
#
#   Alle Relationen kommen aus MIN v2:
#     min:hasInput, min:hasOutput      (Process ↔ Object)
#     min:performs, min:performedBy    (Agent ↔ Process)
#     min:generates, min:generatedBy  (Process → Data)
#     min:describes, min:describedBy  (Data → Nexus)
#     min:actsOn, min:affectedBy      (Agent → Object)
#     min:owns                        (Agent → Object)
#
#   sdata ergänzt:
#     sdata:usesTool, sdata:usesSoftware  (Process → Hardware/Software)
#     sdata:hasMaterial                   (Object → Material)
#     sdata:derivedFrom                   (Data → Data)
#     sdata:certifies                     (Data → Nexus)
#     sdata:succeeds, sdata:precedes      (Process → Process)
#
# #############################################################################


# #############################################################################
#
#   INVENTAR v0.11.0
#
#   Klassen:          11  (Material, Product, Hardware, Software, Data,
#                          Person, HardwareAgent, SoftwareAgent,
#                          Organization, EnvironmentAgent)
#                          + min:Object, min:Process, min:Data, min:Agent
#                          werden direkt genutzt (nicht re-deklariert)
#
#   Object Properties: 10  (hasMaterial, hasProduct, usesTool, usesSoftware,
#                           derivedFrom, certifies, succeeds, precedes,
#                           hasData, producedBy)
#                          + 15 aus MIN v2 geerbt
#
#   Datatype Properties: 7  (hasVersion, hasUUID, hasStartTime, hasEndTime,
#                            hasConfidence, hasSource, hasLocation)
#                           + 5 aus MIN v2 geerbt
#
#   MIGRATION v0.10.0 → v0.11.0:
#   — owl:imports opa entfernt (OPA in MIN absorbiert)
#   — Alle opa: Referenzen → min:
#   — sdata:Data: subClassOf sdata:Object → subClassOf min:Data
#   — Klassenanzahl: 15 → 11 (4 Basisklassen jetzt in MIN)
#   — Keine neue sdata-Funktionalität verloren
#   — SHACL-Shapes müssen angepasst werden (opa: → min:)
#
# #############################################################################
