@prefix sdata: <https://w3id.org/sdata/core/> .
@prefix sms:   <https://w3id.org/sdata/material-state/> .
@prefix min:   <https://w3id.org/min#> .
@prefix qudt:  <http://qudt.org/schema/qudt/> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex:    <https://example.org/battery/> .

# =============================================================================
# Example: Battery Passport (sdata core 0.11.0 / MIN v2)
# =============================================================================

# --- Materials ----------------------------------------------------------------

ex:NMC811
    a sdata:Material ;
    min:hasIdentifier "MAT-NMC811-001" ;
    rdfs:label "NMC811"@en ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:OriginAxis ;
        sms:hasStateValue sms:origin.Virgin
    ] ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:FormAxis ;
        sms:hasStateValue sms:form.Powder
    ] ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:LifecyclePhaseAxis ;
        sms:hasStateValue sms:phase.Production
    ] .

ex:RecycledNickel
    a sdata:Material ;
    min:hasIdentifier "MAT-REC-NI-007" ;
    rdfs:label "Recycled Nickel Fraction"@en ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:OriginAxis ;
        sms:hasStateValue sms:origin.Recycled
    ] ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:LifecyclePhaseAxis ;
        sms:hasStateValue sms:phase.Recycling
    ] .

# --- Products -----------------------------------------------------------------

ex:CathodeFoil_01
    a sdata:Product ;
    min:hasIdentifier "PROD-CATHODE-01" ;
    sdata:hasMaterial ex:NMC811 ;
    sdata:hasMaterial ex:RecycledNickel ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:StructureAxis ;
        sms:hasStateValue sms:structure.SinglePart
    ] ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:RoleAxis ;
        sms:hasStateValue sms:role.Production
    ] .

ex:BatteryCell_01
    a sdata:Product ;
    min:hasIdentifier "PROD-CELL-01" ;
    sdata:hasMaterial ex:NMC811 ;
    min:resultOf ex:CellAssembly_01 .

ex:BatteryPack_001
    a sdata:Product ;
    min:hasIdentifier "PROD-PACK-001" ;
    sdata:hasMaterial ex:NMC811 ;
    sdata:hasMaterial ex:RecycledNickel ;
    min:resultOf ex:PackAssembly_01 ;
    sdata:hasData ex:DPP_001 .

# --- Agents / Infrastructure --------------------------------------------------

ex:OperatorMueller
    a sdata:Person ;
    min:hasIdentifier "PERS-042" .

ex:PressLine_A1
    a sdata:Hardware, sdata:HardwareAgent ;
    min:hasIdentifier "HW-PRESS-A1" .

ex:LSDYNA_R14
    a sdata:Software, sdata:SoftwareAgent ;
    min:hasIdentifier "SW-LSDYNA-R14" .

ex:VoltPackAG
    a sdata:Organization ;
    min:hasIdentifier "ORG-VOLTPACK" .

ex:AmbientMarineAir
    a sdata:EnvironmentAgent ;
    min:hasIdentifier "ENV-MARINE-AIR" .

# --- Processes ----------------------------------------------------------------

ex:CathodeProduction_01
    a min:Process ;
    min:hasInput ex:NMC811 ;
    min:hasOutput ex:CathodeFoil_01 ;
    min:performedBy ex:OperatorMueller ;
    sdata:usesTool ex:PressLine_A1 ;
    min:generates ex:CathodeProcessData_01 ;
    min:hasDescription "DIN 8580" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:MethodAxis ;
        sms:hasStateValue sms:method.Transformative
    ] .

ex:CellAssembly_01
    a min:Process ;
    min:hasInput ex:CathodeFoil_01 ;
    min:hasOutput ex:BatteryCell_01 ;
    min:performedBy ex:OperatorMueller ;
    sdata:usesTool ex:PressLine_A1 ;
    min:generates ex:AssemblyData_01 ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:MethodAxis ;
        sms:hasStateValue sms:method.Assembly
    ] .

ex:TensileTest_01
    a min:Process ;
    min:hasInput ex:BatteryCell_01 ;
    min:performedBy ex:OperatorMueller ;
    min:performedBy ex:PressLine_A1 ;
    sdata:usesTool ex:PressLine_A1 ;
    min:generates ex:TensileData_01 ;
    min:hasDescription "DIN EN ISO 6892-1" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:MethodAxis ;
        sms:hasStateValue sms:method.TensileTest
    ] ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DomainAxis ;
        sms:hasStateValue sms:domain.Structural
    ] .

ex:CrashSimulation_v3
    a min:Process ;
    min:hasInput ex:BatteryPack_001 ;
    min:hasOutput ex:BatteryPack_001 ;
    min:performedBy ex:LSDYNA_R14 ;
    sdata:usesSoftware ex:LSDYNA_R14 ;
    min:generates ex:CrashData_v3 ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:MethodAxis ;
        sms:hasStateValue sms:method.CrashSimulation
    ] .

ex:PackAssembly_01
    a min:Process ;
    min:hasInput ex:BatteryCell_01 ;
    min:hasOutput ex:BatteryPack_001 ;
    min:performedBy ex:OperatorMueller ;
    sdata:usesTool ex:PressLine_A1 ;
    min:generates ex:PackAssemblyData_01 ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:MethodAxis ;
        sms:hasStateValue sms:method.Assembly
    ] .

ex:StorageCorrosion_01
    a min:Process ;
    min:hasInput ex:BatteryPack_001 ;
    min:hasOutput ex:BatteryPack_001_Corroded ;
    min:performedBy ex:AmbientMarineAir ;
    min:generates ex:CorrosionReport_01 ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:MethodAxis ;
        sms:hasStateValue sms:method.Corrosion
    ] ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DomainAxis ;
        sms:hasStateValue sms:domain.Chemical
    ] .

# --- Data ---------------------------------------------------------------------

ex:CathodeProcessData_01
    a sdata:Data ;
    min:describes ex:CathodeFoil_01 ;
    sdata:producedBy ex:CathodeProduction_01 ;
    sdata:hasValue 1850.0 ;
    sdata:hasVersion "1.0.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.ProcessRecord
    ] .

ex:AssemblyData_01
    a sdata:Data ;
    min:describes ex:BatteryCell_01 ;
    sdata:producedBy ex:CellAssembly_01 ;
    sdata:hasVersion "1.0.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.ProcessRecord
    ] .

ex:TensileData_01
    a sdata:Data ;
    min:describes ex:BatteryCell_01 ;
    sdata:producedBy ex:TensileTest_01 ;
    sdata:hasQuantity ex:YieldStrength_AQV ;
    sdata:hasVersion "1.0.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.TestReport
    ] .

ex:CrashData_v3
    a sdata:Data ;
    min:describes ex:BatteryPack_001 ;
    sdata:producedBy ex:CrashSimulation_v3 ;
    sdata:hasVersion "3.0.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.SimulationReport
    ] .

ex:PackAssemblyData_01
    a sdata:Data ;
    min:describes ex:BatteryPack_001 ;
    sdata:producedBy ex:PackAssembly_01 ;
    sdata:hasVersion "1.0.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.ProcessRecord
    ] .

ex:InspectionCertificate_001
    a sdata:Data ;
    min:describes ex:BatteryPack_001 ;
    sdata:certifies ex:VoltPackAG ;
    min:hasDescription "EN 10204 3.1" ;
    sdata:hasVersion "2026-03" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.Certificate
    ] .

ex:DPP_001
    a sdata:Data ;
    min:describes ex:BatteryPack_001 ;
    sdata:hasVersion "0.10.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.DigitalProductPass
    ] .

ex:CorrosionReport_01
    a sdata:Data ;
    min:describes ex:BatteryPack_001_Corroded ;
    sdata:producedBy ex:StorageCorrosion_01 ;
    sdata:hasQuantity ex:MassLoss_AQV ;
    sdata:hasVersion "1.0.0" ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:DataTypeAxis ;
        sms:hasStateValue sms:datatype.TestReport
    ] .

# --- AQV / ValueDomain --------------------------------------------------------

ex:YieldStrength_AQV
    a sdata:AttributeQuantityValue ;
    sdata:unitSymbol "MPa" ;
    sdata:dtype "float" ;
    sdata:hasValueDomain ex:YieldStrengthSpec ;
    qudt:numericValue 340.0 .

ex:MassLoss_AQV
    a sdata:AttributeQuantityValue ;
    sdata:unitSymbol "g/m2" ;
    sdata:dtype "float" ;
    sdata:hasValueDomain ex:MassLossDomain ;
    qudt:numericValue 12.3 .

ex:YieldStrengthSpec
    a sdata:ValueDomain ;
    sdata:domainDescription "Yield strength target range." .

ex:MassLossDomain
    a sdata:ValueDomain ;
    sdata:domainDescription "Corrosion-related mass loss per area." .

# --- Corrosion output product -------------------------------------------------

ex:BatteryPack_001_Corroded
    a sdata:Product ;
    min:hasIdentifier "PROD-PACK-001-CORR" ;
    sdata:hasMaterial ex:NMC811 ;
    sdata:hasMaterial ex:RecycledNickel ;
    min:resultOf ex:StorageCorrosion_01 ;
    sdata:hasData ex:CorrosionReport_01 ;
    sms:hasStateAssignment [
        a sms:StateAssignment ;
        sms:onAxis sms:ConditionAxis ;
        sms:hasStateValue sms:condition.Degraded
    ] .

# --- Product data aggregation -------------------------------------------------

ex:BatteryPack_001
    sdata:hasData ex:CrashData_v3 ;
    sdata:hasData ex:InspectionCertificate_001 ;
    sdata:hasData ex:DPP_001 .
